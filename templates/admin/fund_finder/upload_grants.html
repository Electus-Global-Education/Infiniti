{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}">{% endblock %}

{% block coltype %}colM{% endblock %}

{% block bodyclass %}{{ block.super }} app-{{ opts.app_label }} model-{{ opts.model_name }} change-form{% endblock %}

{% if not is_popup %}
{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% translate 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>
&rsaquo; <a href="{% url opts.app_label|lower|add:'_'|add:opts.model_name|lower|add:'_changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>
&rsaquo; {% translate 'Upload Grant Data' %}
</div>
{% endblock %}
{% endif %}

{% block content %}
<div id="content-main">

<form method="post" enctype="multipart/form-data">
{% csrf_token %}
<div>
    {% if form.errors %}
        <p class="errornote">
        {% if form.errors.items|length == 1 %}{% translate "Please correct the error below." %}{% else %}{% translate "Please correct the errors below." %}{% endif %}
        </p>
        {{ form.non_field_errors }}
    {% endif %}

    <fieldset class="module aligned">
        <h2>{% translate 'Upload CSV or XML File' %}</h2>
        <p>{% translate "Select a .csv or .xml file containing grant data to import into the system. The file will be processed in the background." %}</p>
        <div class="form-row">
            {{ form.file.errors }}
            {{ form.file.label_tag }} {{ form.file }}
        </div>
    </fieldset>

    <div class="submit-row">
        <input type="submit" value="{% translate 'Upload and Process File' %}" class="default">
    </div>

</div>
</form>

</div>
{% endblock %}
